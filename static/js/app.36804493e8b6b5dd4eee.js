webpackJsonp([1],{135:function(e,t,s){"use strict";var a=s(2),r=s(196),n=s(193),i=s.n(n);a.default.use(r.a),t.a=new r.a({routes:[{path:"/",name:"ProjectList",component:i.a}]})},136:function(e,t){},138:function(e,t,s){function a(e){s(188)}var r=s(132)(s(159),s(195),a,null,null);e.exports=r.exports},158:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(2),r=s(138),n=s.n(r),i=s(135),o=s(139),c=s.n(o),l=s(137),u=s.n(l),m=s(136);s.n(m);a.default.config.productionTip=!1,a.default.use(c.a),a.default.use(u.a),new a.default({el:"#app",router:i.a,template:"<App/>",components:{App:n.a}})},159:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},160:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(161),r=s.n(a),n=s(140),i=s.n(n),o=s(0),c=s.n(o);t.default={name:"projectsList",methods:{fetchDockerInfo:function(e){var t=this;return i.a.get("https://raw.githubusercontent.com/"+this.user+"/docker-"+e.name+"/master/Dockerfile").then(function(s){s.data.split("\n").forEach(function(t){t.startsWith("FROM")&&(e.baseImage=t.split(" ")[1])}),t.refreshDisplay()})},openDialog:function(e){this.$refs[e].open()},closeDialog:function(e){this.$refs[e].close()},onSort:function(e){this.projects.sort(function(t,s){return"asc"===e.type?s[e.name]-t[e.name]:t[e.name]-s[e.name]}),this.currentPage=1,this.refreshDisplay()},refreshDisplay:function(){var e=(this.currentPage-1)*this.pageSize,t=(this.currentPage-1)*this.pageSize+this.pageSize;t>this.projects.length&&(t=this.projects.length),e>this.projects.length&&(e=this.projects.length),this.displayedProjects=this.projects.slice(e,t),this.refreshGaph()},onPagination:function(e){this.pageSize=e.size,this.currentPage=e.page,this.refreshDisplay()},fetchPage:function(e){var t=this;return e||(e=1,this.projects=[]),i.a.get("https://api.github.com/users/"+this.user+"/repos?sort=pushed&per_page="+this.itemPerPage+"&page="+e).then(function(e){if(e.headers.link){e.headers.link.split(",").forEach(function(e){var s=e.match(/.*per_page=[0-9]+&page=([0-9]+)>; rel="next"/);s&&t.$nextTick(function(){t.fetchPage(s[1])})})}return e.data.filter(function(e){return e.name.match(t.regexp)})}).then(function(e){e.forEach(function(e){var s=e.name.replace("docker-",""),a={name:s,baseImage:"Dockerfile not found..",hubName:t.user+"/"+s,stars:parseInt(e.stargazers_count)};t.projects.push(a),t.fetchDockerInfo(a)}),t.refreshDisplay()}).catch(function(e){e.response&&403===e.response.status&&(t.rrReset=c.a.unix(parseInt(e.response.headers["x-ratelimit-reset"])).fromNow(),t.$refs.snackbar.open())})},refreshRows:function(){var e=this.projects.reduce(function(e,t){return e[t.baseImage]||(e[t.baseImage]=0),e[t.baseImage]+=1,e},{});this.graph.rows=r()(e||{}).map(function(t){return[t,e[t]]})},refreshGaph:function(){this.refreshRows()}},computed:{regexp:function(){return new RegExp(this.regexpString)}},data:function(){return{user:"jbonachera",itemPerPage:200,currentPage:1,pageSize:10,projects:[],displayedProjects:[],regexpString:"^docker-",rrReset:0,graph:{columns:[{type:"string",label:"Name"},{type:"number",label:"Count"}],rows:[],options:{title:"Base images repartition",width:900,height:500,pieHole:.4}}}},mounted:function(){this.$nextTick(this.fetchPage)}}},188:function(e,t){},191:function(e,t,s){function a(e){return s(r(e))}function r(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var n={"./af":17,"./af.js":17,"./ar":24,"./ar-dz":18,"./ar-dz.js":18,"./ar-kw":19,"./ar-kw.js":19,"./ar-ly":20,"./ar-ly.js":20,"./ar-ma":21,"./ar-ma.js":21,"./ar-sa":22,"./ar-sa.js":22,"./ar-tn":23,"./ar-tn.js":23,"./ar.js":24,"./az":25,"./az.js":25,"./be":26,"./be.js":26,"./bg":27,"./bg.js":27,"./bn":28,"./bn.js":28,"./bo":29,"./bo.js":29,"./br":30,"./br.js":30,"./bs":31,"./bs.js":31,"./ca":32,"./ca.js":32,"./cs":33,"./cs.js":33,"./cv":34,"./cv.js":34,"./cy":35,"./cy.js":35,"./da":36,"./da.js":36,"./de":39,"./de-at":37,"./de-at.js":37,"./de-ch":38,"./de-ch.js":38,"./de.js":39,"./dv":40,"./dv.js":40,"./el":41,"./el.js":41,"./en-au":42,"./en-au.js":42,"./en-ca":43,"./en-ca.js":43,"./en-gb":44,"./en-gb.js":44,"./en-ie":45,"./en-ie.js":45,"./en-nz":46,"./en-nz.js":46,"./eo":47,"./eo.js":47,"./es":49,"./es-do":48,"./es-do.js":48,"./es.js":49,"./et":50,"./et.js":50,"./eu":51,"./eu.js":51,"./fa":52,"./fa.js":52,"./fi":53,"./fi.js":53,"./fo":54,"./fo.js":54,"./fr":57,"./fr-ca":55,"./fr-ca.js":55,"./fr-ch":56,"./fr-ch.js":56,"./fr.js":57,"./fy":58,"./fy.js":58,"./gd":59,"./gd.js":59,"./gl":60,"./gl.js":60,"./gom-latn":61,"./gom-latn.js":61,"./he":62,"./he.js":62,"./hi":63,"./hi.js":63,"./hr":64,"./hr.js":64,"./hu":65,"./hu.js":65,"./hy-am":66,"./hy-am.js":66,"./id":67,"./id.js":67,"./is":68,"./is.js":68,"./it":69,"./it.js":69,"./ja":70,"./ja.js":70,"./jv":71,"./jv.js":71,"./ka":72,"./ka.js":72,"./kk":73,"./kk.js":73,"./km":74,"./km.js":74,"./kn":75,"./kn.js":75,"./ko":76,"./ko.js":76,"./ky":77,"./ky.js":77,"./lb":78,"./lb.js":78,"./lo":79,"./lo.js":79,"./lt":80,"./lt.js":80,"./lv":81,"./lv.js":81,"./me":82,"./me.js":82,"./mi":83,"./mi.js":83,"./mk":84,"./mk.js":84,"./ml":85,"./ml.js":85,"./mr":86,"./mr.js":86,"./ms":88,"./ms-my":87,"./ms-my.js":87,"./ms.js":88,"./my":89,"./my.js":89,"./nb":90,"./nb.js":90,"./ne":91,"./ne.js":91,"./nl":93,"./nl-be":92,"./nl-be.js":92,"./nl.js":93,"./nn":94,"./nn.js":94,"./pa-in":95,"./pa-in.js":95,"./pl":96,"./pl.js":96,"./pt":98,"./pt-br":97,"./pt-br.js":97,"./pt.js":98,"./ro":99,"./ro.js":99,"./ru":100,"./ru.js":100,"./sd":101,"./sd.js":101,"./se":102,"./se.js":102,"./si":103,"./si.js":103,"./sk":104,"./sk.js":104,"./sl":105,"./sl.js":105,"./sq":106,"./sq.js":106,"./sr":108,"./sr-cyrl":107,"./sr-cyrl.js":107,"./sr.js":108,"./ss":109,"./ss.js":109,"./sv":110,"./sv.js":110,"./sw":111,"./sw.js":111,"./ta":112,"./ta.js":112,"./te":113,"./te.js":113,"./tet":114,"./tet.js":114,"./th":115,"./th.js":115,"./tl-ph":116,"./tl-ph.js":116,"./tlh":117,"./tlh.js":117,"./tr":118,"./tr.js":118,"./tzl":119,"./tzl.js":119,"./tzm":121,"./tzm-latn":120,"./tzm-latn.js":120,"./tzm.js":121,"./uk":122,"./uk.js":122,"./ur":123,"./ur.js":123,"./uz":125,"./uz-latn":124,"./uz-latn.js":124,"./uz.js":125,"./vi":126,"./vi.js":126,"./x-pseudo":127,"./x-pseudo.js":127,"./yo":128,"./yo.js":128,"./zh-cn":129,"./zh-cn.js":129,"./zh-hk":130,"./zh-hk.js":130,"./zh-tw":131,"./zh-tw.js":131};a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id=191},193:function(e,t,s){var a=s(132)(s(160),s(194),null,null,null);e.exports=a.exports},194:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("md-layout",{attrs:{"md-column":""}},[s("md-layout",{attrs:{"md-align":"center"}},[s("h2",{staticClass:"md-title"},[e._v("Docker repository list for "+e._s(e.user)+" (matching "),s("i",[e._v("/"+e._s(e.regexpString)+"/")]),e._v(") "),s("md-icon",{nativeOn:{click:function(t){e.openDialog("edit")}}},[e._v("mode_edit")])],1)]),e._v(" "),s("md-layout",[s("md-layout",{attrs:{"md-align":"center"}},[s("md-table-card",[s("md-table",{on:{sort:e.onSort}},[s("md-table-header",[s("md-table-row",[s("md-table-head",{attrs:{"md-sort-by":"name"}},[e._v("Name")]),e._v(" "),s("md-table-head",{attrs:{"md-sort-by":"baseImage"}},[e._v("Base-Image")]),e._v(" "),s("md-table-head",{attrs:{"md-sort-by":"hubName"}},[e._v("Docker hub repository name\n              ")]),e._v(" "),s("md-table-head",{attrs:{"md-sort-by":"stars"}},[e._v("\n                Github stars\n              ")])],1)],1),e._v(" "),s("md-table-body",e._l(e.displayedProjects,function(t,a){return s("md-table-row",{key:a},[s("md-table-cell",[s("a",{attrs:{href:"https://github.com/"+e.user+"/docker-"+t.name+"/"}},[e._v(e._s(t.name))])]),e._v(" "),s("md-table-cell",[e._v(e._s(t.baseImage)+" ")]),e._v(" "),s("md-table-cell",[e._v(e._s(t.hubName)+" ")]),e._v(" "),s("md-table-cell",[e._v(e._s(t.stars)+" ")])],1)}))],1),e._v(" "),s("md-table-pagination",{attrs:{"md-size":e.pageSize,"md-total":"Many","md-page":e.currentPage,"md-label":"Items","md-separator":"of","md-page-options":[10,20]},on:{pagination:e.onPagination}})],1)],1),e._v(" "),s("md-layout",{attrs:{"md-align":"center"}},[s("h2",{staticClass:"md-title"},[e._v("Statistics")]),e._v(" "),s("vue-chart",{attrs:{"chart-type":"PieChart",columns:e.graph.columns,rows:e.graph.rows,options:e.graph.options}})],1)],1),e._v(" "),s("md-snackbar",{ref:"snackbar",attrs:{"md-position":"bottom center","md-duration":"30000"}},[s("span",[e._v("Request rate-limited. Please wait and retry in "+e._s(e.rrReset)+".")]),e._v(" "),s("md-button",{staticClass:"md-accent",attrs:{"md-theme":"light-blue"},nativeOn:{click:function(t){e.$refs.snackbar.close()}}},[e._v("Close\n    ")])],1),e._v(" "),s("md-dialog",{ref:"edit",on:{close:e.fetchPage}},[s("md-dialog-title",[e._v("Source config")]),e._v(" "),s("md-dialog-content",[s("md-input-container",[s("label",[e._v("Github username value")]),e._v(" "),s("md-input",{model:{value:e.user,callback:function(t){e.user=t},expression:"user"}})],1),e._v(" "),s("md-input-container",[s("label",[e._v("Docker repositories regexp")]),e._v(" "),s("md-input",{model:{value:e.regexpString,callback:function(t){e.regexpString=t},expression:"regexpString"}})],1)],1),e._v(" "),s("md-dialog-actions",[s("md-button",{staticClass:"md-primary",nativeOn:{click:function(t){e.closeDialog("edit")}}},[e._v("Close")])],1)],1)],1)},staticRenderFns:[]}},195:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]}}},[158]);
//# sourceMappingURL=app.36804493e8b6b5dd4eee.js.map